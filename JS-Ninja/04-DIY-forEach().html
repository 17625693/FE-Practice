<!DOCTYPE html>
<html>
	<head>
		<title>Test Suite</title>	
		<script>
			function assert(value, desc) {
				var li = document.createElement("li");
				li.className = value ? "pass" : "fail";
				li.appendChild(document.createTextNode(desc));
				document.getElementById("results").appendChild(li);
			}
						
		</script>
		
		<style>
			#results li.pass {
				color: limegreen;
			}
			#results li.fail {
				color: #f00;
/*				text-decoration: line-through;*/
			}
		</style>
	</head>
	<body>
		<ul id="results"></ul>

		<script>
//			从 forEach() 中看上下文
//			参数：
//			list Array : 需要迭代的数组对象
//			callback fn() : 数组中每个对象调用的函数
			function forEach(list, callback) {
				for (var n = 0; n < list.length; n++) {
					callback.call(list[n], n);// n 作为 call 的参数，是将被回调函数接受的参数
				}
			}
			
			var weapons = ['shuriken', 'katana', 'nunchucks'];
			
			forEach(
				weapons,
				function(index) {
					assert(this == weapons[index],
						  		"Got the expected value of " + weapons[index] );
				}
			);
		</script>
	</body>
</html>